{
  "test_results": [
    {
      "test_name": "Table long_term_memories exists",
      "status": "PASS",
      "details": "",
      "timestamp": "2025-07-16T17:37:09.902461"
    },
    {
      "test_name": "Table conversation_summaries exists",
      "status": "PASS",
      "details": "",
      "timestamp": "2025-07-16T17:37:10.043843"
    },
    {
      "test_name": "Table memory_access_patterns exists",
      "status": "PASS",
      "details": "",
      "timestamp": "2025-07-16T17:37:10.167891"
    },
    {
      "test_name": "Function search_long_term_memories exists",
      "status": "PASS",
      "details": "",
      "timestamp": "2025-07-16T17:37:10.306856"
    },
    {
      "test_name": "Function search_conversation_summaries exists",
      "status": "FAIL",
      "details": "{'code': '42883', 'details': None, 'hint': 'No operator matches the given name and argument types. You might need to add explicit type casts.', 'message': 'operator does not exist: uuid = text'}",
      "timestamp": "2025-07-16T17:37:10.402831"
    },
    {
      "test_name": "Function cleanup_expired_memories exists",
      "status": "FAIL",
      "details": "{'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: \"system\"'}",
      "timestamp": "2025-07-16T17:37:10.492453"
    },
    {
      "test_name": "Function get_memory_performance_metrics exists",
      "status": "PASS",
      "details": "",
      "timestamp": "2025-07-16T17:37:10.597597"
    },
    {
      "test_name": "Memory store operations",
      "status": "FAIL",
      "details": "'coroutine' object does not support the asynchronous context manager protocol",
      "timestamp": "2025-07-16T17:37:10.920711"
    },
    {
      "test_name": "Semantic search",
      "status": "PASS",
      "details": "Found 0 results",
      "timestamp": "2025-07-16T17:37:10.920787"
    },
    {
      "test_name": "Get consolidation candidates",
      "status": "FAIL",
      "details": "'coroutine' object does not support the asynchronous context manager protocol",
      "timestamp": "2025-07-16T17:37:10.921154"
    },
    {
      "test_name": "Summary generation",
      "status": "PASS",
      "details": "",
      "timestamp": "2025-07-16T17:37:10.921390"
    },
    {
      "test_name": "Performance metrics",
      "status": "PASS",
      "details": "Retrieved 4 metrics",
      "timestamp": "2025-07-16T17:37:11.000811"
    },
    {
      "test_name": "Memory maintenance",
      "status": "PASS",
      "details": "Ran 3 maintenance tasks",
      "timestamp": "2025-07-16T17:37:11.088663"
    },
    {
      "test_name": "RLS table long_term_memories accessible",
      "status": "PASS",
      "details": "",
      "timestamp": "2025-07-16T17:37:11.182680"
    },
    {
      "test_name": "RLS table conversation_summaries accessible",
      "status": "PASS",
      "details": "",
      "timestamp": "2025-07-16T17:37:11.307205"
    },
    {
      "test_name": "RLS table memory_access_patterns accessible",
      "status": "PASS",
      "details": "",
      "timestamp": "2025-07-16T17:37:11.432908"
    },
    {
      "test_name": "Namespace isolation",
      "status": "PASS",
      "details": "Namespaces properly isolated",
      "timestamp": "2025-07-16T17:37:11.725408"
    },
    {
      "test_name": "Error handling - embedding failure",
      "status": "PASS",
      "details": "Properly handled embedding failure",
      "timestamp": "2025-07-16T17:37:11.985752"
    },
    {
      "test_name": "Database resilience",
      "status": "SKIP",
      "details": "Cannot test without breaking actual connection",
      "timestamp": "2025-07-16T17:37:11.985780"
    },
    {
      "test_name": "Insert expired memory",
      "status": "PASS",
      "details": "",
      "timestamp": "2025-07-16T17:37:12.083534"
    },
    {
      "test_name": "Cleanup expired memories",
      "status": "FAIL",
      "details": "{'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: \"system\"'}",
      "timestamp": "2025-07-16T17:37:12.205118"
    }
  ],
  "pitfalls": [
    {
      "type": "FUNCTION_MISSING",
      "description": "Database function search_conversation_summaries missing or broken",
      "severity": "high",
      "timestamp": "2025-07-16T17:37:10.402904"
    },
    {
      "type": "FUNCTION_MISSING",
      "description": "Database function cleanup_expired_memories missing or broken",
      "severity": "high",
      "timestamp": "2025-07-16T17:37:10.492492"
    },
    {
      "type": "STORE_OPERATIONS",
      "description": "Basic store operations failing: 'coroutine' object does not support the asynchronous context manager protocol",
      "severity": "high",
      "timestamp": "2025-07-16T17:37:10.920727"
    },
    {
      "type": "SEARCH_EMPTY",
      "description": "Semantic search returns no results",
      "severity": "medium",
      "timestamp": "2025-07-16T17:37:10.920792"
    },
    {
      "type": "CONSOLIDATION_QUERY",
      "description": "Cannot query consolidation candidates: 'coroutine' object does not support the asynchronous context manager protocol",
      "severity": "medium",
      "timestamp": "2025-07-16T17:37:10.921159"
    },
    {
      "type": "MAINTENANCE_ERROR",
      "description": "Maintenance task cleanup_expired_memories failed",
      "severity": "medium",
      "timestamp": "2025-07-16T17:37:11.088701"
    },
    {
      "type": "TEST_LIMITATION",
      "description": "Cannot fully test database connection resilience",
      "severity": "low",
      "timestamp": "2025-07-16T17:37:11.985792"
    },
    {
      "type": "CLEANUP_ERROR",
      "description": "Memory cleanup function broken: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid: \"system\"'}",
      "severity": "high",
      "timestamp": "2025-07-16T17:37:12.205179"
    }
  ],
  "summary": {
    "total_tests": 21,
    "passed": 15,
    "failed": 5,
    "skipped": 1,
    "total_pitfalls": 8,
    "critical_pitfalls": 0,
    "high_pitfalls": 4,
    "medium_pitfalls": 3,
    "low_pitfalls": 1
  },
  "timestamp": "2025-07-16T17:37:12.205461"
}